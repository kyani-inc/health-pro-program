!function(){"use strict";if("object"!=typeof vc||"function"!=typeof vc.shortcode_view)return;window.vcexBackendViewImage=vc.shortcode_view.extend({changeShortcodeParams:function(e){window.vcexBackendViewImage.__super__.changeShortcodeParams.call(this,e);var a,t,r,i,n,c=this;if(!(a=_.isString(e.getParam("source"))?e.getParam("source"):"")&&_.isString(e.getParam("image_source"))&&(a=e.getParam("image_source")),a){switch(a){case"external":t=e.getParam("external_image");break;case"custom_field":(t=e.getParam("custom_field_name"))||(t=e.getParam("image_custom_field"));break;default:(t=e.getParam("image_id"))||(t=e.getParam("image"))}i=new XMLHttpRequest,n="action=vcex_wpbakery_backend_view_image&content="+t+"&size=thumbnail&image_source="+a+"&post_id="+vc_post_id+"&_vcnonce="+window.vcAdminNonce,i.onload=function(){if(4==i.readyState&&200==i.status){if((r=c.$el[0].querySelector(".vcex_wpb_image_holder"))&&r.parentNode.removeChild(r),!this.responseText)return;var e=c.$el[0].getElementsByClassName("wpb_element_wrapper")[0],a=document.createElement("p");a.className="vcex_wpb_image_holder",e.appendChild(a);var t=document.createElement("img");t.src=this.responseText,a.appendChild(t)}else console.log(this.responseText)},i.open("POST",window.ajaxurl,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(n)}}})}();