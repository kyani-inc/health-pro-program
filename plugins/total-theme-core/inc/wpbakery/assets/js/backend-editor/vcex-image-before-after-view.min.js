!function(){"use strict";if("object"!=typeof vc||"function"!=typeof vc.shortcode_view)return;window.vcexBackendViewImageBeforeAfter=vc.shortcode_view.extend({changeShortcodeParams:function(e){window.vcexBackendViewImageBeforeAfter.__super__.changeShortcodeParams.call(this,e);var i,n,a,m=this;n=new XMLHttpRequest,a="action=vcex_wpbakery_backend_view_image_before_after&source="+e.getParam("source")+"&beforeImage="+(e.getParam("before_img")||e.getParam("primary_image"))+"&afterImage="+(e.getParam("after_img")||e.getParam("secondary_image"))+"&beforeImageCf="+(e.getParam("before_img_custom_field")||e.getParam("primary_image_custom_field"))+"&afterImageCf="+(e.getParam("after_img_custom_field")||e.getParam("secondary_image_custom_field"))+"&post_id="+vc_post_id+"&_vcnonce="+window.vcAdminNonce,n.onload=function(){if(4==n.readyState&&200==n.status){(i=m.$el[0].querySelector(".vcex-backend-view-ba"))&&i.parentNode.removeChild(i);var e=JSON.parse(this.responseText),a=m.$el[0].getElementsByClassName("wpb_element_wrapper")[0],t=document.createElement("div");for(var r in t.className="vcex-backend-view-ba",a.appendChild(t),e)if(e[r]){var o=document.createElement("div");t.appendChild(o);var c=document.createElement("img");c.setAttribute("src",e[r]),o.appendChild(c)}}else console.log(this.responseText)},n.open("POST",window.ajaxurl,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(a)}})}();