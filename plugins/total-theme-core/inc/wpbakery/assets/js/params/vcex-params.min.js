!function(r){"use strict";(void 0!==r.fn.chosen&&(r(".vcex-chosen").chosen({search_contains:!0,inherit_select_classes:!0}),r(".vcex-chosen-alt").chosen({disable_search:!0,inherit_select_classes:!0})),r(".vc_edit_form_elements").on("click",".vcex-alignments-param .vcex-alignment-opt",function(e){var a=r(this),t=a.parent(".vcex-alignments-param"),i=t.find(".vcex-hidden-input");t.find(".vcex-alignment-opt").removeClass("vcex-active"),a.addClass("vcex-active"),i.val(a.data("value")).trigger("change")}),r(".vcex-number-param").change(function(){var e=r(this).val(),a=parseInt(r(this).attr("min")),t=parseInt(r(this).attr("max"));a&&t&&e&&(t<e?r(this).val(t):e<a&&r(this).val(a))}),r(".vc_edit_form_elements").on("click",".vcex-custom-select .vcex-opt",function(e){var a=r(this),t=a.parent(".vcex-custom-select"),i=t.find(".vcex-hidden-input");t.find(".vcex-opt").removeClass("vcex-active"),a.addClass("vcex-active"),i.val(a.data("value")).trigger("change")}),r(".vc_edit_form_elements").on("click",".vcex-ofswitch .vcex-btn",function(e){var a=r(this),t=a.parent(".vcex-ofswitch"),i=t.find(".vcex-hidden-input");t.find(".vcex-btn").removeClass("vcex-active"),a.addClass("vcex-active"),i.val(a.data("value")).trigger("change")}),void 0!==r.fn.sortable)&&r(".vcex-sorter-param").each(function(){var t=r(this);t.sortable(),t.disableSelection(),t.on("sortstop",function(e,a){i(t)}),t.find("li > a").click(function(){r(this).find(".ticon").toggleClass("ticon-rotate-180"),r(this).parents("li:eq(0)").toggleClass("vcex-disabled"),i(t)})});function i(e){var a=[];e.find("li").each(function(){r(this).hasClass("vcex-disabled")||a.push(r(this).attr("data-value"))}),r(e).next("input.wpb_vc_param_value").val(a).trigger("change")}function s(e){var c=[],v="";return e.each(function(e,a){var t=r(this),i=t.val();if(t.parent().hasClass("vcex-item-1")&&(v=t),i){var n=t.attr("name")+":"+i;c.push(n)}}),1==c.length&&v.val()?v.val():c.join("|")}r(".vcex-responsive-column-select").on("change",function(e){var c=[],a=r(this).closest(".vcex-responsive-columns-param"),t=a.find("select"),i=a.find("input.wpb_vc_param_value");t.each(function(e,a){var t=r(this),i=t.val();if(i){var n=t.attr("name")+":"+i;c.push(n)}}),i.val(c.join("|"))}),r(".vc_shortcode-param[data-vc-shortcode-param-name='responsive_text'], .vc_shortcode-param[data-vc-shortcode-param-name='responsive_font_size']").each(function(){var e=r(this),a=e.find(".wpb-input"),t=e.prev(),i=t.find(".vcex-input"),n=t.find(".vcex-item"),c=t.find(".vcex-item-1"),v=t.find("input.vcex_responsive_sizes_field");"true"==a.val()&&(n.hide(),c.show(),v.val(c.find(".vcex-input").val())),a.on("input change",function(e){"true"==a.val()?(n.hide(),c.show(),v.val(c.find(".vcex-input").val())):(c.find(".vcex-input").val()&&n.show(),v.val(s(i)))})}),r(".vcex-trbl-param .vcex-input").on("input",function(e){var a=r(this).closest(".vcex-trbl-param"),t=a.find(".vcex-input"),i=a.find("input.vcex-hidden-input"),c=[],v=null,s=!0;t.each(function(e,a){var t=r(this),i=t.val();if(null===v&&(v=i),v!==i&&(s=!1),i){var n=t.attr("name")+":"+i;c.push(n)}}),s?i.val(v):i.val(c.join("|"))}),r(".vcex-rs-param .vcex-input").on("input",function(e){var a=r(this),t=a.closest(".vcex-rs-param"),i=t.closest(".wpb_el_type_vcex_responsive_sizes").next().find("select.responsive_text"),n=t.find(".vcex-input"),c=t.find("input.vcex_responsive_sizes_field");if(a.parent().hasClass("vcex-item-1")){if(!a.val())return t.find(".vcex-item").not(".vcex-item-1").hide(),void c.val("");if(t.find(".vcex-item").show(),i&&"true"==i.val())return t.find(".vcex-item").not(".vcex-item-1").hide(),void c.val(a.val())}c.val(s(n))}),vc.atts.vcex_colorpicker={parse:function(e){var a,t,i;return t=(a=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]").parent()).find(".vcex-color-param__select"),i=a.find(".vcex-color-param__picker"),t.val()?t.val():i.val()?i.val():""},init:function(e,a){var t,i,n,c;vc.atts.colorpicker.init.call(this,e,a),i=(t=a).find(".vcex-color-param__select"),n=t.find(".vc_color-picker"),c=t.find(".vcex-color-param__preview"),i.change(function(){i.val()?(n.hide(),c.css("background-color",r(this).find(":selected").data("color")).show()):(n.show(),c.hide())}).trigger("change")}}}(jQuery);