!function(w){"use strict";"function"!=typeof window.vcexLoadMore&&(window.vcexLoadMore=function(e){w(".vcex-loadmore").each(function(){var i=w(this),s=i.find(".vcex-loadmore-button");if(s.length){var r=i.parent().find("> .wpex-row, > .entries, > .vcex-recent-news, .vcex-image-grid, .wpex-post-cards-list"),d=!1,t=vcex_loadmore_params.ajax_url,c=s.data(),l=c.page+1,p=c.maxPages,x=s.find(".vcex-txt"),f=c.text,n=c.loadingText,v=c.failedText;i.css("min-height",i.outerHeight()),s.on("click",function(e){var o=c.shortcodeParams;if(o.paged=l,!d){d=!0,s.parent().addClass("vcex-loading"),x.text(n);var a={action:"vcex_loadmore_ajax_render",nonce:c.nonce,shortcodeTag:c.shortcodeTag,shortcodeParams:o};w.post(t,a,function(t){var n="";t.success?(l+=1,(n=r.parent().hasClass("vcex-post-type-archive")?w(t.data).find("> .wpex-row > .col, > .wpex-row > .blog-entry, #blog-entries > .blog-entry"):w(t.data).find("> .wpex-row > .vcex-grid-item, > .vcex-recent-news > .vcex-recent-news-entry-wrap, .vcex-image-grid-entry, .wpex-post-cards-entry")).length?(n.css("opacity",0),n.each(function(){var e=w(this);e.hasClass("sticky")&&e.addClass("vcex-duplicate")}),r.append(n).imagesLoaded(function(){if("object"==typeof wpex&&"function"==typeof wpex.equalHeights&&wpex.equalHeights(),"function"==typeof Isotope&&(r.hasClass("vcex-isotope-grid")||r.hasClass("vcex-navbar-filter-grid")||r.hasClass("wpex-masonry-grid"))){var e=Isotope.data(r[0]);e?(e.appended(n),e.layout()):n.css("opacity",1)}else n.css("opacity",1);r.hasClass("justified-gallery")&&void 0!==w.fn.justifiedGallery&&r.justifiedGallery("norewind"),"object"==typeof wpex&&("function"==typeof wpex.overlaysMobileSupport&&wpex.overlaysMobileSupport(),"function"==typeof wpex.hoverStyles&&wpex.hoverStyles()),w(".wpb_animate_when_almost_visible",r).addClass("wpb_start_animation animated"),"function"==typeof window.wpexSliderPro&&window.wpexSliderPro(n),void 0!==w.fn.mediaelementplayer&&n.find("audio, video").mediaelementplayer(),r.trigger("vcexLoadMoreFinished",[n]);var o=w(t.data).find(".vcex-loadmore-button").data();c=o||c,s.parent().removeClass("vcex-loading"),x.text(f);var a=n.first().find("a");a.length&&a.eq(0).focus(),l-1==p&&i.hide(),d=!1})):console.log(t)):(s.text(v),console.log(t))}).fail(function(e,o,a){console.log(e.responseText)})}return!1})}})}),w(window).on("load",function(){vcexLoadMore()})}(jQuery);